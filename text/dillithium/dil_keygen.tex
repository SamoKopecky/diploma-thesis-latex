The dilithium key generation process starts by generating random seeds $\rho$ and $\rho'$. $\rho$ is used for generating the matrix \rmhat{A} where its dimension are $k\times l$. $\rho'$ for generating error vectors $s_1$, $s_2$. The range of values in these vectors depends on the parameter $\eta$. Similarly as with Kyber only $\rho$ is sent over the network since the function to generated \rmhat{A} is deterministic. The product of \rmhat{A} and $s_1$ to which $s_2$ is added is passed to the aforementioned function \texttt{Power2Round} together with $d$ which is a parameter defined \ref{tab:dil_sec_levels}. This functions splits $t$ into $t_1$ and $t_0$. This is the splitting which is talked out about in subsection \ref{subsec:dil_reducing_pub_key}.

Variable $t_1$ is used as the public key together with the randomly generated $K$. The private key consists of a hash (a block with H) of the public key $tr$, private parameters $s_1$, $s_2$, $t_0$ and the random seed $\rho$. Polynomial vectors are additionally packed into bytes for easy transfer over the network. This process is also illustrated in figure \ref{img:dil_keygen}.

\object[0.5]{obr}{pictures/dil_key_gen.pdf}{Dilithium key generation}{img:dil_keygen}
