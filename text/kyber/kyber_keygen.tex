\object[0.5]{obr}{pictures/kyber_keygen.pdf}{Kyber key generation}{img:cpapke_keygen}
\noindent The key generation functions starts with generating random parameters (illustrated by \ref{img:cpapke_keygen}). A parameter $\rho$ is used to generate the matrix \rmhat{A}. It is publicly know to everyone and needs to shared, but since the function that generates it is deterministic only $\rho$ needs to be shared instead of the while matrix. Two vectors $s$ and $e$ are generated from a different random value. After transforming the generated vectors into the NTT domain, \rmhat{A} and \rmhat{s} are multiplied. The vector \rmhat{e} is then added to the result and creates the public key. The vector $s$ is then used as the secret key.
